{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 39330a546928c7bca54c","webpack:///./src/javascript/drops.js"],"names":["TrowelDrops","triggers","forEach","trigger","index","trigger_obj","TrowelDrop","customOptions","window","Tether","undefined","Error","drop","document","querySelector","getAttribute","options","tether","tetherOptions","visible","show","hide","setGutterPositions","listener","posY","position","split","posX","getPositions","gutterY","gutterX","setAttribute","style","display","isVisible","behavior","addEventListener","toggle","bind","event","isClickInside","contains","target","map","element","hovering","toElement","defaultOptions","Object","keys","reduce","option","includes","length","_options","attachmentX","attachmentY","targetAttachmentX","targetAttachmentY","config","attachment","targetAttachment"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;IChEqBA,W,GACnB,qBAAYC,QAAZ,EAAsB;AAAA;;AACpBA,WAASC,OAAT,CAAiB,UAASC,OAAT,EAAkBC,KAAlB,EAAyB;AACxC,QAAIC,cAAc,IAAIC,UAAJ,CAAeH,OAAf,CAAlB;AACD,GAFD;AAGD,C;;kBALkBH,W;;IAQfM,U;AACJ,sBAAYH,OAAZ,EAAyC;AAAA,QAApBI,aAAoB,uEAAJ,EAAI;;AAAA;;AACvC,QAAIC,OAAOC,MAAP,KAAkBC,SAAtB,EAAiC,MAAM,IAAIC,KAAJ,CAAU,iDAAV,CAAN;;AAEjC,SAAKR,OAAL,GAAeA,OAAf;AACA,SAAKS,IAAL,GAAYC,SAASC,aAAT,CAAuB,KAAKX,OAAL,CAAaY,YAAb,CAA0B,WAA1B,CAAvB,CAAZ;AACA,SAAKC,OAAL,GAAeT,aAAf;AACA,SAAKU,MAAL,GAAc,IAAIR,MAAJ,CAAW,KAAKS,aAAhB,CAAd;;AAEA,SAAKF,OAAL,CAAaG,OAAb,GAAuB,KAAKC,IAAL,EAAvB,GAAqC,KAAKC,IAAL,EAArC;AACA,SAAKC,kBAAL;;AAEA,WAAO,KAAKC,QAAL,EAAP;AACD;;;;mCAsDoC;AAAA,UAAxBP,OAAwB,uEAAd,KAAKA,OAAS;;AACnC,aAAO;AACLA,iBAASA,OADJ;AAELQ,cAAMR,QAAQS,QAAR,CAAiBC,KAAjB,CAAuB,GAAvB,EAA4B,CAA5B,CAFD;AAGLC,cAAMX,QAAQS,QAAR,CAAiBC,KAAjB,CAAuB,GAAvB,EAA4B,CAA5B;AAHD,OAAP;AAKD;;;yCA6DoB;AAAA,0BACI,KAAKE,YAAL,EADJ;AAAA,UACXJ,IADW,iBACXA,IADW;AAAA,UACLG,IADK,iBACLA,IADK;;AAEnB,UAAIE,gBAAJ;AAAA,UAAaC,gBAAb;;AAEA,cAAQN,IAAR;AACE,aAAK,QAAL;AACEK,oBAAU,QAAV;AACA;AACF,aAAK,WAAL;AACEA,oBAAU,KAAV;AACA;AACF;AACEA,oBAAU,MAAV;AARJ;;AAWA,cAAQF,IAAR;AACE,aAAK,SAAL;AACEG,oBAAU,OAAV;AACA;AACF,aAAK,UAAL;AACEA,oBAAU,MAAV;AACA;AACF;AACEA,oBAAU,MAAV;AARJ;;AAWA,WAAKlB,IAAL,CAAUmB,YAAV,CAAuB,aAAvB,EAAyCF,OAAzC,SAAoDC,OAApD;AACD;;;2BAMM;AACL,aAAO,KAAKlB,IAAL,CAAUoB,KAAV,CAAgBC,OAAhB,GAA0B,OAAjC;AACD;;;2BAEM;AACL,aAAO,KAAKrB,IAAL,CAAUoB,KAAV,CAAgBC,OAAhB,GAA0B,MAAjC;AACD;;;6BAEQ;AACP,aAAO,KAAKC,SAAL,GAAiB,KAAKb,IAAL,EAAjB,GAA+B,KAAKD,IAAL,EAAtC;AACD;;;+BAEU;AAAA;;AACT,UAAI,KAAKJ,OAAL,CAAamB,QAAb,IAAyB,OAA7B,EAAsC;AACpC,aAAKhC,OAAL,CAAaiC,gBAAb,CAA8B,OAA9B,EAAuC,KAAKC,MAAL,CAAYC,IAAZ,CAAiB,IAAjB,CAAvC;;AAEA;AACAzB,iBAASuB,gBAAT,CAA0B,OAA1B,EAAmC,UAASG,KAAT,EAAgB;AACjD,cAAMC,gBAAgB,KAAKrC,OAAL,CAAasC,QAAb,CAAsBF,MAAMG,MAA5B,KAAuC,KAAK9B,IAAL,CAAU6B,QAAV,CAAmBF,MAAMG,MAAzB,CAA7D;AACA,cAAI,CAACF,aAAD,IAAkB,KAAKN,SAA3B,EAAsC,KAAKb,IAAL;AACtC;AACD,SAJkC,CAIjCiB,IAJiC,CAI5B,IAJ4B,CAAnC;AAMD,OAVD,MAUO,IAAI,KAAKtB,OAAL,CAAamB,QAAb,IAAyB,OAA7B,EAAsC;AAC3C,aAAKhC,OAAL,CAAaiC,gBAAb,CAA8B,YAA9B,EAA4C,KAAKhB,IAAL,CAAUkB,IAAV,CAAe,IAAf,CAA5C;;AAEA,SAAC,KAAKnC,OAAN,EAAe,KAAKS,IAApB,EAA0B+B,GAA1B,CAA8B,mBAAW;AACvCC,kBAAQR,gBAAR,CAAyB,UAAzB,EAAqC,UAASG,KAAT,EAAgB;AACnD,gBAAMM,WAAW,KAAK1C,OAAL,CAAasC,QAAb,CAAsBF,MAAMO,SAA5B,KAA0C,KAAKlC,IAAL,CAAU6B,QAAV,CAAmBF,MAAMO,SAAzB,CAA3D;AACA,gBAAI,CAACD,QAAL,EAAe,KAAKxB,IAAL;AACf;AACD,WAJoC,CAInCiB,IAJmC,OAArC;AAKD,SAND;AAOD;AACF;;;sBA1LW/B,a,EAAe;AAAA;;AACzB,UAAMwC,iBAAiB;AACrB5B,iBAAS,KADY;AAErBgB,kBAAU,OAFW;AAGrBV,kBAAU;AAHW,OAAvB;;AAMA,UAAMT,UAAUgC,OAAOC,IAAP,CAAYF,cAAZ,EAA4BG,MAA5B,CAAmC,UAAClC,OAAD,EAAUmC,MAAV,EAAqB;AACtEnC,gBAAQmC,MAAR,IAAkBJ,eAAeI,MAAf,CAAlB;;AAEA;AACA,YAAI,OAAKhD,OAAL,CAAaY,YAAb,WAAkCoC,MAAlC,CAAJ,EAAiD;AAC/CnC,kBAAQmC,MAAR,IAAkB,OAAKhD,OAAL,CAAaY,YAAb,WAAkCoC,MAAlC,CAAlB;;AAEA;AACA,cAAIA,UAAU,SAAd,EAAyB;AACvBnC,oBAAQmC,MAAR,IAAkBnC,QAAQmC,MAAR,KAAmB,MAArC;AACD;;AAEH;AACC,SATD,MASO,IAAI5C,cAAc4C,MAAd,CAAJ,EAA2B;AAChCnC,kBAAQmC,MAAR,IAAkB5C,cAAc4C,MAAd,CAAlB;AACD;;AAED,eAAOnC,OAAP;AACD,OAlBe,EAkBb,EAlBa,CAAhB;;AAPyB,2BA2BF,KAAKY,YAAL,CAAkBZ,OAAlB,CA3BE;AAAA,UA2BjBQ,IA3BiB,kBA2BjBA,IA3BiB;AAAA,UA2BXG,IA3BW,kBA2BXA,IA3BW;;AA6BzB,UAAI,CAAC,CAAC,OAAD,EAAU,OAAV,EAAmByB,QAAnB,CAA4BpC,QAAQmB,QAApC,CAAL,EAAoD;AAClD,cAAM,IAAIxB,KAAJ,CAAU,6DAAV,CAAN;AACD;;AAED,UAAIK,QAAQS,QAAR,CAAiBC,KAAjB,CAAuB,GAAvB,EAA4B2B,MAA5B,IAAsC,CAA1C,EAA6C;AAC3C,cAAM,IAAI1C,KAAJ,CAAU,oKAAV,CAAN;AACD;;AAED,UAAI,CAAC,CAAC,OAAD,EAAU,QAAV,EAAoB,QAApB,EAA8B,UAA9B,EAA0C,WAA1C,EAAuDyC,QAAvD,CAAgE5B,IAAhE,CAAL,EAA4E;AAC1E,cAAM,IAAIb,KAAJ,CAAU,kHAAV,CAAN;AACD;;AAED,UAAI,CAAC,CAAC,QAAD,EAAW,SAAX,EAAsB,QAAtB,EAAgC,SAAhC,EAA2C,UAA3C,EAAuDyC,QAAvD,CAAgEzB,IAAhE,CAAL,EAA4E;AAC1E,cAAM,IAAIhB,KAAJ,CAAU,mHAAV,CAAN;AACD;;AAED,aAAO,KAAK2C,QAAL,GAAgBtC,OAAvB;AACD,K;wBAEa;AACZ,aAAO,KAAKsC,QAAZ;AACD;;;wBAUmB;AAAA,2BACK,KAAK1B,YAAL,EADL;AAAA,UACVJ,IADU,kBACVA,IADU;AAAA,UACJG,IADI,kBACJA,IADI;;AAElB,UAAI4B,oBAAJ;AAAA,UAAiBC,oBAAjB;AAAA,UAA8BC,0BAA9B;AAAA,UAAiDC,0BAAjD;AAAA,UAAoE5B,gBAApE;AAAA,UAA6ED,gBAA7E;;AAEA,cAAQL,IAAR;AACE,aAAK,QAAL;AACEgC,wBAAc,QAAd;AACAE,8BAAoB,KAApB;AACA;AACF,aAAK,OAAL;AACEF,wBAAc,KAAd;AACAE,8BAAoB,KAApB;AACA;AACF,aAAK,UAAL;AACEF,wBAAc,QAAd;AACAE,8BAAoB,QAApB;AACA;AACF,aAAK,WAAL;AACEF,wBAAc,KAAd;AACAE,8BAAoB,QAApB;AACA;AACF;AACEF,wBAAc,QAAd;AACAE,8BAAoB,QAApB;AAnBJ;;AAsBA,cAAQ/B,IAAR;AACE,aAAK,SAAL;AACE4B,wBAAc,OAAd;AACAE,8BAAoB,MAApB;AACA;AACF,aAAK,QAAL;AACEF,wBAAc,MAAd;AACAE,8BAAoB,MAApB;AACA;AACF,aAAK,SAAL;AACEF,wBAAc,OAAd;AACAE,8BAAoB,OAApB;AACA;AACF,aAAK,UAAL;AACEF,wBAAc,MAAd;AACAE,8BAAoB,OAApB;AACA;AACF;AACEF,wBAAc,QAAd;AACAE,8BAAoB,QAApB;AAnBJ;;AAsBA,UAAIE,SAAS;AACXf,iBAAS,KAAKhC,IADH;AAEX8B,gBAAQ,KAAKvC,OAFF;AAGXyD,oBAAeJ,WAAf,SAA8BD,WAHnB;AAIXM,0BAAqBH,iBAArB,SAA0CD;AAJ/B,OAAb;;AAQA,aAAOE,MAAP;AACD;;;wBA+Be;AACd,aAAO,KAAK/C,IAAL,CAAUoB,KAAV,CAAgBC,OAAhB,IAA2B,OAAlC;AACD","file":"drops.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"TrowelDrops\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"TrowelDrops\"] = factory();\n\telse\n\t\troot[\"TrowelDrops\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 39330a546928c7bca54c","export default class TrowelDrops {\n  constructor(triggers) {\n    triggers.forEach(function(trigger, index) {\n      let trigger_obj = new TrowelDrop(trigger);\n    })\n  }\n}\n\nclass TrowelDrop {\n  constructor(trigger, customOptions = {}) {\n    if (window.Tether === undefined) throw new Error('Trowel Drops require Tether (http://tether.io/)')\n\n    this.trigger = trigger;\n    this.drop = document.querySelector(this.trigger.getAttribute('data-href'));\n    this.options = customOptions;\n    this.tether = new Tether(this.tetherOptions);\n\n    this.options.visible ? this.show() : this.hide();\n    this.setGutterPositions();\n\n    return this.listener();\n  }\n\n  set options(customOptions) {\n    const defaultOptions = {\n      visible: false,\n      behavior: 'click',\n      position: 'bottomout leftin',\n    };\n\n    const options = Object.keys(defaultOptions).reduce((options, option) => {\n      options[option] = defaultOptions[option];\n\n      // 1st priority : data-options\n      if (this.trigger.getAttribute(`data-${option}`)) {\n        options[option] = this.trigger.getAttribute(`data-${option}`);\n\n        // make sure the option is a bool and not a string\n        if (option == 'visible') {\n          options[option] = options[option] == \"true\";\n        }\n\n      // 2nd priority : customOptions\n      } else if (customOptions[option]) {\n        options[option] = customOptions[option];\n      }\n\n      return options;\n    }, {});\n\n    const { posY, posX } = this.getPositions(options);\n\n    if (!['click', 'hover'].includes(options.behavior)) {\n      throw new Error('Trowel drops behavior option must be \\'click\\' or \\'hover\\'')\n    }\n\n    if (options.position.split(' ').length != 2) {\n      throw new Error('Trowel drops position option must be a string within two words describing Y (\\'top\\', \\'middle\\' or \\'bottom\\') and X (\\'left\\', \\'center\\' or \\'right\\') position')\n    }\n\n    if (!['topin', 'topout', 'middle', 'bottomin', 'bottomout'].includes(posY)) {\n      throw new Error('Trowel drops position option first word must be \\'topin\\', \\'topout\\', \\'middle\\', \\'bottomin\\' or \\'bottomout\\'')\n    }\n\n    if (!['leftin', 'leftout', 'center', 'rightin', 'rightout'].includes(posX)) {\n      throw new Error('Trowel drops position option second word must be \\'leftin\\', \\'leftout\\', \\'center\\', \\'rightin\\' or \\'rightout\\'')\n    }\n\n    return this._options = options;\n  }\n\n  get options() {\n    return this._options;\n  }\n\n  getPositions(options = this.options) {\n    return {\n      options: options,\n      posY: options.position.split(' ')[0],\n      posX: options.position.split(' ')[1],\n    }\n  }\n\n  get tetherOptions() {\n    const { posY, posX } = this.getPositions();\n    let attachmentX, attachmentY, targetAttachmentX, targetAttachmentY, gutterX, gutterY;\n\n    switch (posY) {\n      case 'topout':\n        attachmentY = 'bottom';\n        targetAttachmentY = 'top';\n        break;\n      case 'topin':\n        attachmentY = 'top';\n        targetAttachmentY = 'top';\n        break;\n      case 'bottomin':\n        attachmentY = 'bottom';\n        targetAttachmentY = 'bottom';\n        break;\n      case 'bottomout':\n        attachmentY = 'top';\n        targetAttachmentY = 'bottom';\n        break;\n      default:\n        attachmentY = 'center';\n        targetAttachmentY = 'center';\n    }\n\n    switch (posX) {\n      case 'leftout':\n        attachmentX = 'right';\n        targetAttachmentX = 'left';\n        break;\n      case 'leftin':\n        attachmentX = 'left';\n        targetAttachmentX = 'left';\n        break;\n      case 'rightin':\n        attachmentX = 'right';\n        targetAttachmentX = 'right';\n        break;\n      case 'rightout':\n        attachmentX = 'left';\n        targetAttachmentX = 'right';\n        break;\n      default:\n        attachmentX = 'center';\n        targetAttachmentX = 'center';\n    }\n\n    let config = {\n      element: this.drop,\n      target: this.trigger,\n      attachment: `${attachmentY} ${attachmentX}`,\n      targetAttachment: `${targetAttachmentY} ${targetAttachmentX}`,\n    };\n\n\n    return config;\n  }\n\n  setGutterPositions() {\n    const { posY, posX } = this.getPositions();\n    let gutterY, gutterX;\n\n    switch (posY) {\n      case 'topout':\n        gutterY = 'bottom';\n        break;\n      case 'bottomout':\n        gutterY = 'top';\n        break;\n      default:\n        gutterY = 'none';\n    }\n\n    switch (posX) {\n      case 'leftout':\n        gutterX = 'right';\n        break;\n      case 'rightout':\n        gutterX = 'left';\n        break;\n      default:\n        gutterX = 'none';\n    }\n\n    this.drop.setAttribute('data-gutter', `${gutterY} ${gutterX}`)\n  }\n\n  get isVisible() {\n    return this.drop.style.display == 'block';\n  }\n\n  show() {\n    return this.drop.style.display = 'block';\n  }\n\n  hide() {\n    return this.drop.style.display = 'none';\n  }\n\n  toggle() {\n    return this.isVisible ? this.hide() : this.show();\n  }\n\n  listener() {\n    if (this.options.behavior == 'click') {\n      this.trigger.addEventListener('click', this.toggle.bind(this));\n\n      // hide the drop when you click outside\n      document.addEventListener('click', function(event) {\n        const isClickInside = this.trigger.contains(event.target) || this.drop.contains(event.target);\n        if (!isClickInside && this.isVisible) this.hide();\n        return;\n      }.bind(this))\n\n    } else if (this.options.behavior == 'hover') {\n      this.trigger.addEventListener('mouseenter', this.show.bind(this));\n\n      [this.trigger, this.drop].map(element => {\n        element.addEventListener('mouseout', function(event) {\n          const hovering = this.trigger.contains(event.toElement) || this.drop.contains(event.toElement);\n          if (!hovering) this.hide();\n          return;\n        }.bind(this));\n      })\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/javascript/drops.js"],"sourceRoot":""}