!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("TrowelDrops",[],e):"object"==typeof exports?exports.TrowelDrops=e():t.TrowelDrops=e()}(this,function(){return function(t){function e(i){if(o[i])return o[i].exports;var r=o[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var o={};return e.m=t,e.c=o,e.i=function(t){return t},e.d=function(t,o,i){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,o){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),n=function t(e){i(this,t),e.forEach(function(t,e){new s(t)})};e.default=n;var s=function(){function t(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i(this,t),void 0===window.Tether)throw new Error("Trowel Drops require Tether (http://tether.io/)");return this.trigger=e,this.drop=document.querySelector(this.trigger.getAttribute("data-href")),this.options=o,this.tether=new Tether(this.tetherOptions),this.options.visible?this.show():this.hide(),this.setGutterPositions(),this.listener()}return r(t,[{key:"getPositions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options;return{options:t,posY:t.position.split(" ")[0],posX:t.position.split(" ")[1]}}},{key:"setGutterPositions",value:function(){var t=this.getPositions(),e=t.posY,o=t.posX,i=void 0,r=void 0;switch(e){case"topout":i="bottom";break;case"bottomout":i="top";break;default:i="none"}switch(o){case"leftout":r="right";break;case"rightout":r="left";break;default:r="none"}this.drop.setAttribute("data-gutter",i+" "+r)}},{key:"show",value:function(){return this.drop.style.display="block"}},{key:"hide",value:function(){return this.drop.style.display="none"}},{key:"toggle",value:function(){return this.isVisible?this.hide():this.show()}},{key:"listener",value:function(){var t=this;"click"==this.options.behavior?(this.trigger.addEventListener("click",this.toggle.bind(this)),document.addEventListener("click",function(t){!(this.trigger.contains(t.target)||this.drop.contains(t.target))&&this.isVisible&&this.hide()}.bind(this))):"hover"==this.options.behavior&&(this.trigger.addEventListener("mouseenter",this.show.bind(this)),[this.trigger,this.drop].map(function(e){e.addEventListener("mouseout",function(t){this.trigger.contains(t.toElement)||this.drop.contains(t.toElement)||this.hide()}.bind(t))}))}},{key:"options",set:function(t){var e=this,o={visible:!1,behavior:"click",position:"bottomout leftin"},i=Object.keys(o).reduce(function(i,r){return i[r]=o[r],e.trigger.getAttribute("data-"+r)?(i[r]=e.trigger.getAttribute("data-"+r),"visible"==r&&(i[r]="true"==i[r])):t[r]&&(i[r]=t[r]),i},{}),r=this.getPositions(i),n=r.posY,s=r.posX;if(!["click","hover"].includes(i.behavior))throw new Error("Trowel drops behavior option must be 'click' or 'hover'");if(2!=i.position.split(" ").length)throw new Error("Trowel drops position option must be a string within two words describing Y ('top', 'middle' or 'bottom') and X ('left', 'center' or 'right') position");if(!["topin","topout","middle","bottomin","bottomout"].includes(n))throw new Error("Trowel drops position option first word must be 'topin', 'topout', 'middle', 'bottomin' or 'bottomout'");if(!["leftin","leftout","center","rightin","rightout"].includes(s))throw new Error("Trowel drops position option second word must be 'leftin', 'leftout', 'center', 'rightin' or 'rightout'");return this._options=i},get:function(){return this._options}},{key:"tetherOptions",get:function(){var t=this.getPositions(),e=t.posY,o=t.posX,i=void 0,r=void 0,n=void 0,s=void 0;switch(e){case"topout":r="bottom",s="top";break;case"topin":r="top",s="top";break;case"bottomin":r="bottom",s="bottom";break;case"bottomout":r="top",s="bottom";break;default:r="center",s="center"}switch(o){case"leftout":i="right",n="left";break;case"leftin":i="left",n="left";break;case"rightin":i="right",n="right";break;case"rightout":i="left",n="right";break;default:i="center",n="center"}return{element:this.drop,target:this.trigger,attachment:r+" "+i,targetAttachment:s+" "+n}}},{key:"isVisible",get:function(){return"block"==this.drop.style.display}}]),t}();t.exports=e.default}])});