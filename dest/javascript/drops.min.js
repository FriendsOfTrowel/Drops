!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("TrowelDrops",[],e):"object"==typeof exports?exports.TrowelDrops=e():t.TrowelDrops=e()}(this,function(){return function(t){function e(i){if(o[i])return o[i].exports;var n=o[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var o={};return e.m=t,e.c=o,e.i=function(t){return t},e.d=function(t,o,i){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,o){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),r=function t(e){i(this,t),e.forEach(function(t,e){new s(t)})};e.default=r;var s=function(){function t(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i(this,t),void 0===window.Tether)throw new Error("Trowel Drops require Tether (http://tether.io/)");this.trigger=e,this.drop=document.querySelector(this.trigger.getAttribute("data-href")),this.options=o,this.tether=new Tether(this.tetherOptions),this.options.visible?this.show():this.hide(),this.setGutterPositions(),this.events=this.events(),this.listener(),this.element.dispatchEvent(this.events.mounted)}return n(t,[{key:"getPositions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options;return{options:t,posY:t.position.split(" ")[0],posX:t.position.split(" ")[1]}}},{key:"setGutterPositions",value:function(){var t=this.getPositions(),e=t.posY,o=t.posX,i=void 0,n=void 0;switch(e){case"topout":i="bottom";break;case"bottomout":i="top";break;default:i="none"}switch(o){case"leftout":n="right";break;case"rightout":n="left";break;default:n="none"}this.drop.setAttribute("data-gutter",i+" "+n)}},{key:"show",value:function(){this.element.dispatchEvent(this.events.show),this.drop.style.display="block",this.element.dispatchEvent(this.events.shown)}},{key:"hide",value:function(){this.element.dispatchEvent(this.events.hide),this.drop.style.display="none",this.element.dispatchEvent(this.events.hidden)}},{key:"toggle",value:function(){this.element.dispatchEvent(this.events.toggle),this.isVisible?this.hide():this.show(),this.element.dispatchEvent(this.events.toggled)}},{key:"listener",value:function(){var t=this;"click"==this.options.behavior?(this.trigger.addEventListener("click",this.toggle.bind(this)),document.addEventListener("click",function(t){!(this.trigger.contains(t.target)||this.drop.contains(t.target))&&this.isVisible&&this.hide()}.bind(this))):"hover"==this.options.behavior&&(this.trigger.addEventListener("mouseenter",this.show.bind(this)),[this.trigger,this.drop].map(function(e){e.addEventListener("mouseout",function(t){this.trigger.contains(t.toElement)||this.drop.contains(t.toElement)||this.hide()}.bind(t))}))}},{key:"events",value:function(){return{show:new Event("trowel.drop.show"),shown:new Event("trowel.drop.shown"),hide:new Event("trowel.drop.hide"),hidden:new Event("trowel.drop.hidden"),toggle:new Event("trowel.drop.toggle"),toggled:new Event("trowel.drop.toggled"),mounted:new Event("trowel.drop.mounted")}}},{key:"options",set:function(t){var e=this,o={visible:!1,behavior:"click",position:"bottomout leftin"},i=Object.keys(o).reduce(function(i,n){return i[n]=o[n],e.trigger.getAttribute("data-"+n)?(i[n]=e.trigger.getAttribute("data-"+n),"visible"==n&&(i[n]="true"==i[n])):t[n]&&(i[n]=t[n]),i},{}),n=this.getPositions(i),r=n.posY,s=n.posX;if(!["click","hover"].includes(i.behavior))throw new Error("Trowel drops behavior option must be 'click' or 'hover'");if(2!=i.position.split(" ").length)throw new Error("Trowel drops position option must be a string within two words describing Y ('top', 'middle' or 'bottom') and X ('left', 'center' or 'right') position");if(!["topin","topout","middle","bottomin","bottomout"].includes(r))throw new Error("Trowel drops position option first word must be 'topin', 'topout', 'middle', 'bottomin' or 'bottomout'");if(!["leftin","leftout","center","rightin","rightout"].includes(s))throw new Error("Trowel drops position option second word must be 'leftin', 'leftout', 'center', 'rightin' or 'rightout'");return this._options=i},get:function(){return this._options}},{key:"tetherOptions",get:function(){var t=this.getPositions(),e=t.posY,o=t.posX,i=void 0,n=void 0,r=void 0,s=void 0;switch(e){case"topout":n="bottom",s="top";break;case"topin":n="top",s="top";break;case"bottomin":n="bottom",s="bottom";break;case"bottomout":n="top",s="bottom";break;default:n="center",s="center"}switch(o){case"leftout":i="right",r="left";break;case"leftin":i="left",r="left";break;case"rightin":i="right",r="right";break;case"rightout":i="left",r="right";break;default:i="center",r="center"}return{element:this.drop,target:this.trigger,attachment:n+" "+i,targetAttachment:s+" "+r}}},{key:"isVisible",get:function(){return"block"==this.drop.style.display}}]),t}();t.exports=e.default}])});